def getDPVersion() {
    new Date().format('yyyy-MM-dd--HH-mm')
}

def defaultManifest(def defaultTitle = null, def defaultVersion = null) {
    ['Implementation-Title'  : defaultTitle != null ? defaultTitle : "title",
     'Implementation-Version': defaultVersion != null ? defaultVersion : version,
     'Built-By'              : System.getProperty('user.name'),
     'Built-Date'            : new Date(),
     'Built-JDK'             : System.getProperty('java.version')
    ]
}

ext {
//  DB = System.env['DB'] != null ? System.env['DB'] : 'postgresql'
    BANK = System.env['BANK'] != null ? System.env['BANK'] : 'default'
    PROFILE = System.env['PROFILE'] != null ? System.env['PROFILE'] : 'dev'


    PG_HOST = System.getenv('PG_HOST') ?: 'localhost'
    PG_DB_NAME = System.getenv('PG_DB_NAME') ?: 'fun'

    DB_URL = 'jdbc:postgresql://' + PG_HOST + '/' + PG_DB_NAME
    DB_DRIVER = 'org.postgresql.Driver'
    DB_USER = 'postgres'
    DB_PASSWORD = 'postgres'
    
    getDPVersion = this.&getDPVersion
    defaultManifest = this.&defaultManifest

//    ext.querydslVersion = '4.1.4'
//    ext.springVersion = '4.3.17.RELEASE'
//    ext.springSecurityVersion = '4.2.6.RELEASE'
//    ext.springBootVersion = '1.5.13.RELEASE'
//    ext.hibernateVersion = '5.2.3.Final'
//    ext.jacksonVersion = '2.9.3'

}

