def getDPVersion() {
    new Date().format('yyyy-MM-dd--HH-mm')
}

def defaultManifest(def defaultTitle = null, def defaultVersion = null) {
    ['Implementation-Title'  : defaultTitle != null ? defaultTitle : "title",
     'Implementation-Version': defaultVersion != null ? defaultVersion : version,
     'Built-By'              : System.getProperty('user.name'),
     'Built-Date'            : new Date(),
     'Built-JDK'             : System.getProperty('java.version')
    ]
}

ext {
//  DB = System.env['DB'] != null ? System.env['DB'] : 'postgresql'
    BANK = System.env['BANK'] != null ? System.env['BANK'] : 'default'
    PROFILE = System.env['PROFILE'] != null ? System.env['PROFILE'] : 'dev'
    querydslVersion = '4.1.4'

    PG_HOST = System.getenv('PG_HOST') ?: 'localhost'
    PG_DB_NAME = System.getenv('PG_DB_NAME') ?: 'digitalbank_altyn'

    DB_URL = 'jdbc:postgresql://' + PG_HOST + '/' + PG_DB_NAME
    DB_DRIVER = 'org.postgresql.Driver'
    DB_USER = 'ibank'
    DB_PASSWORD = 'knabi'
    
    getDPVersion = this.&getDPVersion
    defaultManifest = this.&defaultManifest

}

